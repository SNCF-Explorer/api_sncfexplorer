@startuml üåê API SNCF - Flux principaux 
title üåê API SNCF - Flux principaux

skinparam backgroundColor #f9fafc
skinparam participant {
  BackgroundColor #ffffff
  BorderColor #333
  FontColor #333
}

actor Agent #ffcc00
participant "Frontend React" as Front #b3d9ff
participant "API SNCF" as API #b2f7ef
database "MongoDB" as DB #ffd6a5

== üü¶ Requ√™te GET : R√©cup√©ration des gare ==

Agent -[#blue]-> Front : va sur la map
Front -[#blue]-> API : <b>GET</b> /v1/data/gares/
API -[#blue]-> DB : requ√™te MongoDB
DB -[#green,dashed]-> API : Donn√©es gares (JSON)
API -[#green]-> Front : <b>200 OK</b> (JSON ok)
Front -[#black]-> Agent : affiche les gares sur la carte

== üü¶ Requ√™te GET : R√©cup√©ration d'une gare ==

Agent -[#blue]-> Front : recherche une gare (ex : <b>Paris</b>)
Front -[#blue]-> API : <b>GET</b> /v1/data/gares/{id}/
API -[#blue]-> DB : requ√™te MongoDB
DB -[#green,dashed]-> API : donn√©es de la gare Paris
API -[#green]-> Front : <b>200 OK</b> (JSON gare)
Front -[#black]-> Agent : affiche la gare sur la carte

== üüß Requ√™te POST : Ajout d'une gare ==

Agent -[#orange]-> Front : entre une nouvelle ville
Front -[#orange]-> API : <b>POST</b> /v1/data/gares/{id}/
API -[#orange]-> DB : insertion MongoDB
DB -[#green,dashed]-> API : <b>200 OK</b>
API -[#green]-> Front : JSON de confirmation
Front -[#black]-> Agent : gare ajout√©e √† la carte

== üü• Requ√™te DELETE : Ajout d'une gare ==
Agent -[#orange]-> Front : entre le nom d'une ville
Front -[#orange]-> API : <b>POST</b> /v1/data/gares/{id}/
API -[#orange]-> DB : Suppression de MongoDB
DB -[#green,dashed]-> API : <b>200 OK</b>
API -[#green]-> Front : JSON de confirmation
Front -[#black]-> Agent : gare supprim√©e √† la carte

@enduml
